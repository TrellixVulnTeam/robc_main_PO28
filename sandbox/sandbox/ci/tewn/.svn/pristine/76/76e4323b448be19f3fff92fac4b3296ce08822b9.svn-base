<?php

namespace Test\Content\Provider;
use CI\Content\Provider\Factory;

class FactoryTest extends \PHPUnit_Framework_TestCase
{
    private $oFactory;

    public function setUp()
    {
        $this->oFactory = new Factory();
    }

    function testGetList()
    {
        $sExpected = array(
            Factory::PROVIDER_ZEMANTA    => 'Zemanta',
            Factory::PROVIDER_BIDTELLECT => 'Bidtellect',
            Factory::PROVIDER_CONTENTAD  => 'ContentAd',
            Factory::PROVIDER_GRAVITY    => 'Gravity',
        );
        $sResult = $this->oFactory->getList();
        $this->assertEquals($sExpected, $sResult);
    }

    function testBuild()
    {
        $oResult = $this->oFactory->build(Factory::PROVIDER_ZEMANTA);
        $this->assertInstanceOf('\CI\Content\Provider\Zemanta',$oResult);
        $oResult = $this->oFactory->build(Factory::PROVIDER_BIDTELLECT);
        $this->assertInstanceOf('\CI\Content\Provider\Bidtellect',$oResult);
        $oResult = $this->oFactory->build(Factory::PROVIDER_CONTENTAD);
        $this->assertInstanceOf('\CI\Content\Provider\ContentAd',$oResult);
        $oResult = $this->oFactory->build(Factory::PROVIDER_GRAVITY);
        $this->assertInstanceOf('\CI\Content\Provider\Gravity',$oResult);
    }
}