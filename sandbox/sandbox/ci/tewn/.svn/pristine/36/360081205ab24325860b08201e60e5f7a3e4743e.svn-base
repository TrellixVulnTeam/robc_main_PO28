<?php
namespace CI;

class ContentRating
{
    const G    = 0;
    const PG13 = 1;
    const R    = 2;
    const MENS = 3;

    const NAME_G    = 'G';
    const NAME_PG13 = 'PG13';
    const NAME_R    = 'R';
    const NAME_MENS = 'MENS';

    private $_oDataSource;

    protected function getContentRatingDataSource()
    {
        if (empty($this->_oDataSource)) {
            $this->_oDataSource = new \CI\ContentRating\DataSource\MyArray();
        }

        return $this->_oDataSource;
    }

    public function getName($nId)
    {
        $oDataSource     = $this->getContentRatingDataSource();
        $aContentRating = $oDataSource->getById($nId);
        return $aContentRating !== null ? $aContentRating['name'] : '';
    }

    public function getAll()
    {
        $aReturn     = array();
        $oDataSource = $this->getContentRatingDataSource();

        foreach ($oDataSource as $aContentRating) {
             $aReturn[] = $aContentRating;
        }

        return $aReturn;
    }
}