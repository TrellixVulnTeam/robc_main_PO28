<?php

namespace CI;

class Config
{
    private $_aConfig = array();
    private $_sPath   = '';

    public function __construct()
    {
        $this->setPath(__DIR__.'/../../../config/');
    }

    public function setPath($sPath)
    {
        $this->_sPath = $sPath;
        return $this;
    }

    public function load($sConfigFile)
    {
        $sConfigFilePath = $this->_sPath.$sConfigFile.'.php';
        if (file_exists($sConfigFilePath)) {
            $this->_aConfig[$sConfigFile] = include $sConfigFilePath;
        } else {
            throw new Config\Exception(Config\Exception::MISSING_FILE, $sConfigFile);
        }
    }

    public function get($sConfigFile)
    {
        if (!isset($this->_aConfig[$sConfigFile])) {
            $this->load($sConfigFile);
        }
        return $this->_aConfig[$sConfigFile];
    }
}