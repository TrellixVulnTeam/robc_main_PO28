<?php
class HistoryStatsControllerTest extends CakeTestCase{
	var $HistoryStats = NULL;
	var $fixtures = array('app.history_stats', 'app.website', 'app.account');
	
	function startTest(){
		App::import('Controller', 'HistoryStats');
		$this->HistoryStats = new HistoryStatsController();
		$this->HistoryStats->constructClasses();
		$this->HistoryStats->autoRender = false;
	}
	
	function testHistoryStatsControllerInstance(){
		$this->assertTrue(is_a($this->HistoryStats, 'HistoryStatsController'));
	}
	
	function testHistoryStatsGetWebsites(){
		$in_websites = '773, 774, 775';
		$results = $this->HistoryStats->get_websites($in_websites);
		
		$this->assertTrue(!empty($results));
		$expected = Array ( 773,774,775 );
		$this->assertEqual($results, $expected);
	}
/*	
	function testHistoryStatsTPMAggregateDay(){
		$in_websites = '773, 774, 775';
		$results = $this->HistoryStats->tpm_aggregate_day();
			
		$expected = 0;
		$this->assertEqual($results, $expected);
	}
*/
	
	function endTest(){
		unset($this->HistoryStats);
	}
}
