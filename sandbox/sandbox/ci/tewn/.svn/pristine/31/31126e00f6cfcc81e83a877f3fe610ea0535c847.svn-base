<?php
class CompeteStore extends AppModel {

	var $useTable = false;
	var $name = 'CompeteStore';

	/* Memcached functions */
	function get($website) {
		App::import('Component', 'CakeMemcache');
		$this->CakeMemcache =& new CakeMemcacheComponent(null);
		
		$key = $this->website_count_key($website);

		$count = $this->CakeMemcache->get($key);

		return $count;
	}

	function set($website, $count) {
		App::import('Component', 'CakeMemcache');
		$this->CakeMemcache =& new CakeMemcacheComponent(null);
		
		$key = $this->website_count_key($website);

		$this->CakeMemcache->set($key, $count, false);
	}

	function clear($website) {
		App::import('Component', 'CakeMemcache');
		$this->CakeMemcache =& new CakeMemcacheComponent(null);
		
		$key = $this->website_count_key($website);

		$this->CakeMemcache->delete($key);
	}

	/* Cache Key function */
	function website_count_key($website) {
		return "compete_count::".$website;
	}

}
?>