<?
	function strstr_array( $haystack, $needle ) {
		if ( !is_array( $haystack ) ) {
				return false;
		}

		foreach ( $haystack as $element ) {
//			echo "haystack: ".$haystack." needle: ".$needle."\n";
			if ( strstr( $needle, $element ) ) {
				return $element;
			}
		}
		return false;
	}

$tab_array = array("/top", "/newest", "/popular", "/v/");


//	print_r($_SERVER);
	$tab = $_SERVER['REQUEST_URI'];

	  if ($tab == "/") {
		  $tab = "/top";
	  }

$tab = strstr_array($tab_array, $tab);                
if ($tab) {
?>
	  
<div id="tabs">
     <table cellpadding=0 border=0>
     <tr>
     
      <td>
		<?
		if ($tab == "/top") {
			$selected_class = "tab_selected";
		} else {
			$selected_class = "tab_unselected";
		}
		?>
	       <div class="<?=$selected_class?> tab" id="tab_top"><a class="<?=$selected_class?>" href="/">Top Posts</a>
	       </div>
	  </td>
      <td>
		<?
		if ($tab == "/newest") {
			$selected_class = "tab_selected";
		} else {
			$selected_class = "tab_unselected";
		}
		?>
	       <div class="tab <?=$selected_class?>" id="tab_newest"><a class="<?=$selected_class?>" href="/newest">Newest Posts</a>
	       </div>
	  </td>
	  <!--
      <td>
		<?
		if ($tab == "/random") {
			$selected_class = "tab_selected";
		} else {
			$selected_class = "tab_unselected";
		}
		?>
	       <div class="tab <?=$selected_class?>" id="tab_random"><a class="<?=$selected_class?>" href="/random">Random Posts</a>
	       </div>
	  </td>     
	  -->
      <td>
		<?
		if ($tab == "/popular") {
			$selected_class = "tab_selected";
		} else {
			$selected_class = "tab_unselected";
		}
		?>
	       <div class="tab <?=$selected_class?>" id="tab_random"><a class="<?=$selected_class?>" href="/popular">Most Popular</a>
	       </div>
	  </td>     

     </tr>
     </table>

 
</div>  <!--  end column for tabs -->

<?
  } else {
	echo "<br>";
   }
?>
	  