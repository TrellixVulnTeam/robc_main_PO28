<?PHP 
class LogTestCase extends CakeTestCase{
	var $Log = null;
	var $fixtures = array('app.log');
	
	function startTest() {
		$this->Log =& ClassRegistry::init('Log');
	}

	function testLogInstance() {
		$this->assertTrue(is_a($this->Log, 'Log'));
	}

	function testLogFind() {
		$this->Log->recursive = -1;
		$results = $this->Log->find('first');
		$this->assertTrue(!empty($results));

		$expected = array('Log' => array(
			'id' => 1,
			'domain_bitfield' => 1,
			'url' => '/users/personal',
			'refer' => 'http://' . MANAGEMENT_URL . '/admin',
			'ip' => '127.0.0.1',
			'created' => '2011-11-30 11:28:23'
		));
		$this->assertEqual($results, $expected);
	}
}
?>