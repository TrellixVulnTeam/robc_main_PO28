<?php
App::import('Component', 'Ti');

class ListCategoriesComponent extends TiComponent
{
    public    $components  = array('Dictionary');
    protected $categories  = null;

    protected function init()
    {
        $this->view        = 'ti/list_categories';
        $this->categories  = $this->Dictionary->get_dictionary(DictionaryComponent::TYPE_CATEGORY);
    }

    protected function process()
    {
        $multiple = $this->options->get('multiple', false);

        return array(
            'list'    => $this->categories,
            'options' => array(
                'category_id' => $this->options->get('category_id', 0),
                'multiple'    => $multiple === false ? '' : ' multiple',
            )
        );
    }
}