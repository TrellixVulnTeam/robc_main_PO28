<?php

require_once 'logger/analytic/element/interface.php';
require_once 'logger/analytic/element/abstract.php';
require_once 'logger/analytic/element/timestamp.php';

class LoggerAnalyticElementTimeStampTest extends PHPUnit_Framework_TestCase
{
	public function testInitialValue()
	{
		$newTime = time();
		$time = time();
		$element = new Logger_Analytic_Element_TimeStamp(
			'timestamp_element_test'
		);
		$this->assertTrue(is_string($element->build()));
		$this->assertTrue($element->build() === ''.$time);
		$element->registerValue($newTime);
		$this->assertTrue($element->build() === ''.$newTime);
	}

	public function testFormat()
	{
		$format = array('separator' => '|', 'item' => '[%s]');
		$time = time();
		$element = new Logger_Analytic_Element_TimeStamp(
			'ts_element_test', $format
		);
		$this->assertTrue($element->build() === "[{$time}]");
	}
}