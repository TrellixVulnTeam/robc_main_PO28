<?php
namespace Test\Validator\VowpalWabbit\Feature;

use CI\Validator\VowpalWabbit\Feature;

class FeatureTest extends \PHPUnit_Framework_TestCase
{
    private $_oFeature;

    public function setUp() {
        $this->_oFeature = new Feature();
    }

    public function testValidFeature() {
        $aFeatures = array(
            'square' => 4.5,
            'price'  => 14.25
        );

        $this->assertTrue($this->_oFeature->isValid($aFeatures));
    }

    public function testInvalidParam() {
        $this->assertFalse($this->_oFeature->isValid(999));
    }

    /**
     * @dataProvider getInvalidFeatureName
     */
    public function testInvalidFeatureName($name) {
        $aFeatures = array(
            'square' => 4.5,
            $name => 14.25
        );

        $this->assertFalse($this->_oFeature->isValid($aFeatures));
    }

    public function testInvalidFeatureValue() {
        $aFeatures = array(
            1 => 1
        );

        $this->assertFalse($this->_oFeature->isValid($aFeatures));
    }

    public function tearDown() {
        $this->_oFeature = null;
    }

    public function getInvalidFeatureName() {
        return array(
            array(0),
            array(true)
        );
    }
}
